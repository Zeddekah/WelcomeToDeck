<!doctype html>
 <html lang="fr" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
     
 <head>
     <meta charset="UTF-8" />

     <meta name="viewport" content="width=device-width, initial-scale=1.0" />

     <title>Welcome To Deck</title>

     <link href="styles.css" rel="stylesheet" type="text/css" />
     
     <script src="Javascript/main.js" defer></script>
     <script src="Javascript/Option_choosen.js" defer></script>
     <script src="Javascript/Welcome.js" defer></script>
     <script src="Javascript/Custom.js" defer></script>
     <script src="Javascript/Dices.js" defer></script>
     <script src="Javascript/Images.js" defer></script>
     <script src="Javascript/IndexedDB.js" defer></script>
     <script src="Javascript/addEventListener.js" defer></script>

    <!-- Charge PDJ Viewer -->
    <script type="module" src="https://mozilla.github.io/pdf.js/build/pdf.mjs"></script>
    <script type="module" src="Javascript/PDF_Viewer.js" defer></script>
 </head>


 <body>
    <header>
        <button id="resetStateButton">Réinitialiser les configurations</button>
    </header>
     <div class="text-center">
        <h1 class="titre">Welcome To Deck</h1>
        <p class="description">For playing to "Welcome To" without the cards ... and more !</p>

        <form id="choose_option">
            <select id="usage_select">
              <option value="">--Please choose an option--</option>
              <option value="welcome_home">Welcome to your perfect home</option>
              <option value="welcome_vegas">Welcome to Vegas</option>
              <option value="welcome_moon">Welcome to the Moon</option>
              <option value="">------</option>
              <option value="custom">Custom</option>
              <option value="dices">Dices</option>
              <option value="images">Images</option>
            </select>
            <button id="option_list_button" class="small_button">Selectionner</button>
        </form>
     </div>

    <div id="welcome_option_container" class="hide text-center">
        <hr /><h4>Tirage :</h4>
        <div id="actuelles_cartes_svg_container">
            <svg viewBox="0 0 160 250" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <image xlink:href="SVG/Carte_vierge.svg" x=0 y=0></image>
                <image class="Image_SVG" xlink:href="" x=0 y=0></image>
                <text class="num_SVG" x=36 y=50>X</text>
                <text class="num_SVG2" x=124 y=230>X</text>
            </svg>

            <svg viewBox="0 0 160 250" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <image xlink:href="SVG/Carte_vierge.svg" x=0 y=0></image>
                <image class="Image_SVG" xlink:href="" x=0 y=0></image>
                <text class="num_SVG" x=36 y=50>X</text>
                <text class="num_SVG2" x=124 y=230>X</text>
            </svg>

            <svg viewBox="0 0 160 250" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <image xlink:href="SVG/Carte_vierge.svg" x=0 y=0></image>
                <image class="Image_SVG" xlink:href="" x=0 y=0></image>
                <text class="num_SVG" x=36 y=50>X</text>
                <text class="num_SVG2" x=124 y=230>X</text>
            </svg>
        </div>
            <p>
                <br />
                <button id="welcomeDrawButton">Draw a card</button>
            </p>
        <h4>Prochaines cartes :</h4>
        <div id="prochaines_cartes_svg_container">
            <svg viewBox="0 0 160 250" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <image xlink:href="SVG/Carte_vierge.svg" x=0 y=0></image>
                <image class="Image_SVG2" xlink:href="" x=0 y=0></image>
                <text x=36 y=50>X</text>
                <text x=124 y=230>X</text>
            </svg>

            <svg viewBox="0 0 160 250" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <image xlink:href="SVG/Carte_vierge.svg" x=0 y=0></image>
                <image class="Image_SVG2" xlink:href="" x=0 y=0></image>
                <text x=36 y=50>X</text>
                <text x=124 y=230>X</text>
            </svg>

            <svg viewBox="0 0 160 250" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg">
                <image xlink:href="SVG/Carte_vierge.svg" x=0 y=0></image>
                <image class="Image_SVG2" xlink:href="" x=0 y=0></image>
                <text x=36 y=50>X</text>
                <text x=124 y=230>X</text>
            </svg>
        </div>            
    </div>

     <div id="custom_option_container" class="hide">
            <h2>Tirage aléatoire de dé(s)</h2>`

        <div id="deck-setup">
            <label for="numDecks">Nombre de decks :</label>
            <input type="number" id="numDecks" min="1" value="1">
            <button id="configureDecksButton" class="small_button">Configurer les decks</button>
        </div>

        <div id="deckConfiguration" class="hide">
            <div id="decksContainer"></div>
            <button id="generateDecksButton">Générer les decks</button>
        </div>

        <div id="drawSection" class="hide">
            <button id="modifyDecksButton" class="hide small_button">Modifier les decks</button>
            
            <div class="height_value_20"></div>
            
            <label for="toggleDrawMode" class="toggle-label">Mode de tirage :</label>
            <label class="toggle">
              <input type="checkbox" id="toggleDrawMode">
              <span class="slider"></span>
            </label>
            <span>Ne pas réutiliser les cartes déjà tirées</span>
            
            <div class="height_value_40"></div>
            
            <button id="customDrawButton">Tirer les cartes</button>
            
            <div class="height_value_40"></div>
            
            <div id="drawnCardsContainer"></div> <!-- Conteneur pour afficher les cartes tirées -->
        </div>
     </div>
     
     <div id="dices_option_container" class="hide">
         
         <div class="height_value_20"></div>

        <!-- Sélecteurs pour les types de dés -->
        <div id="diceSelectors"></div>
         
        <!-- Bouton pour ajouter un nouveau dé -->
        <button id="addDiceButton">Ajouter un dé</button>

        <!-- Bouton pour générer un nouveau tirage -->
        <button id="rerollButton">Générer un nouveau tirage</button>
         
         <div class="height_value_40"></div>

        <!-- Conteneur pour les dés -->
        <div id="existingContainer" class="dice-container"></div>
     </div>
     
     <div id="images_option_container" class="hide">
            <h2>Affichage aléatoire d'images</h2>

            <!-- Input pour sélectionner des images -->
            <input type="file" id="fileInput" accept="image/*" multiple>
            <br><br>

            <!-- Toggle pour choisir si les images sont réutilisables ou non -->
            <label for="toggleRemove" class="toggle-label">Mode de tirage :</label>
            <label class="toggle">
                <input type="checkbox" id="toggleRemove">
                <span class="slider"></span>
            </label>
            <span>Ne pas réutiliser les images déjà affichées</span>
            <br><br>

            <!-- Conteneur pour le bouton d'affichage ou de réinitialisation -->
            <div id="buttonContainer">
                <button id="randomImageButton" disabled>Afficher une image aléatoire</button>
                <div id="divReset" class="hide">
                    <span id="resetMessage">Toutes les images ont été affichées.</span>
                    <button id="imageResetButton">Recommencer le tirage</button>
                </div>
            </div>

            <!-- Image affichée -->
            <img id="imageDisplay" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==" alt="Aucune image sélectionnée">
     </div>
     
     <div class="height_value_40"></div>

    <footer>
        <table>
            <tbody>
                <tr>
                    <td id="rulesbook_link">Livret de règles</td>
                    <td id="scoreboard_link">Feuille de score (App mobile)</td>
                    <td id="credits_link">Crédits</td>
            </tbody>
        </table>
     </footer>

    <div id="rulesbook_modal" class="modal text-center">
        <div class="espace_flex"></div>
        <div class="content content_pdf">
            <h1>Livret de règles</h1>
            <p id="select_before_rulesbook">No rulesbook for this selection</p>

            <div id="PDF_rules" class="hide">
                <a id="pdf_download_link" href="" target="_blank">PDF download link</a>
                <div id="pdf-container">
                    <canvas id="the-canvas"></canvas> <!-- Canvas pour afficher le PDF -->
                </div>
            </div>

            <a href="#" class="close">&times;</a>
        </div>
        <div class="espace_flex"></div>
    </div>

    <div id="scoreboard_modal" class="modal text-center">
        <div class="content">
            <h1>Feuille de score (App Mobile)</h1>
            <p id="select_before_scoreboard">No Mobile App for this selection</p>
            <p id="app_link_container" class="text-center"></p>
            <a href="#" class="close">&times;</a>
        </div>
    </div>

    <div id="credits_modal" class="modal">
        <div class="content">
            <h1>Credits</h1>
            <ul>
                <li>
                    Code inspired by <a href="https://github.com/pwlinkas/virtudeck">Virtudeck by pwlinkas</a>
                </li>
                <li>
                    Card design based on <a href="https://fr.freepik.com/vecteurs-libre/illustration-du-motif-cartes-jouer_94924448.htm">Freepik Design</a>
                </li>
            </ul>
            <a href="#" class="close">&times;</a>
        </div>
    </div>

</body>

      
</html>